<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Eesti Laul Livesubs</title>

	<meta name="twitter:card" content="summary" />
	<meta property="og:url" content="https://eestilaul.t2t2.eu/" />
	<meta property="og:title" content="Eesti Laul Livesubs" />
	<meta property="og:description" content="Eesti Laul livestream + livesubs in one page" />

	<style>
		html, body {
			margin: 0;
			height: 100%;
		}
		#container {
			display: flex;
			flex-direction: column;
			height: 100vh;
		}
		#player {
			display: flex;
			flex-direction: column;
			background-color: #000000;
		}
		#stream-embed {
			aspect-ratio: 16 / 9;
		}
		#stream-selector {
			background-color: #000000;
			color: #cccccc;
			padding: 0.5rem;
			display: flex;
			flex-wrap: wrap;
		}
		#stream-selector > * {
			margin: 0;
			margin-right: 0.5rem;
			height: 1.5rem;
			line-height: 1.5rem;
		}
		#stream-selector > *:last-child {
			margin-right: 0;
		}
		.stream-link {
			color: #ffffff;
			text-decoration: none;
		}
		.stream-link:hover {
			text-decoration: underline;
		}
		.stream-link.is-active {
			color: #028aea;
		}
		#subs-embed {
			flex: 1 0 auto;
			display: flex;
			overflow: hidden;
		}
		.off-canvas {
			/* Try to hide reddit cookie banner by making the embed bigger than shown */
			margin-bottom: -350px;
			width: 100%;
		}
		.embed {
			height: 100%;
			width: 100%;
			display: block;
		}
		@media (min-aspect-ratio: 16 / 14) {
			#container {
				flex-direction: row;
			}
			#player {
				flex: 1 1 177vh;
				max-width: 177vh;
			}
			#subs-embed {
				min-width: 32rem;
				flex: 1 0 1px;
			}
		}
	</style>
</head>
<body>
	<div id="container">
		<div id="player">
			<div id="stream-embed">
				<iframe id="stream-embed-iframe" name="stream-embed-iframe" class="embed" src="https://services.err.ee/live/video/eri11" frameborder="0" allow="fullscreen"></iframe>
				<!--
					Kui keegi err meeskonnast peaks siin olema juhuslikult uurimas,
					1) Krt seda live embed urli on raske leida, lõpuks pidi üldse arvama
					2) Millal 1080p50? (720p50 oleks juba okei komrpomiss, see on märgatav vahe)
				-->
			</div>
			<div id="stream-selector">
				<p>Select stream:</p>
				<a class="stream-link" href="https://services.err.ee/live/video/etv" target="stream-embed-iframe" title="In Estonian">ETV (🇪🇪)</a>
				<a class="stream-link" href="https://services.err.ee/live/video/etv2" target="stream-embed-iframe" title="In Estonian Sign Language">ETV2 (🧏)</a>
				<a class="stream-link" href="https://services.err.ee/live/video/etvpluss" target="stream-embed-iframe" title="In Russian">ETV+ (🇷🇺)</a>
				<a class="stream-link is-active" href="https://services.err.ee/live/video/eri11" target="stream-embed-iframe" title="Jupiter stream (likely same as ETV)">Jupiter (🇪🇪🌖)</a>
				<div style="flex: 1"></div>
				<p>If video gets replaced by image hit pause + play</p>
			</div>
		</div>
		<div id="subs-embed">
			<div class="off-canvas">
				<iframe class="embed" src="https://www.redditmedia.com/live/1cic85ibidrvg/embed" frameborder="0"></iframe>
			</div>
		</div>
	</div>
	<script>
		document.querySelectorAll('.stream-link').forEach(link => {
			link.addEventListener('click', event => {
				document.querySelectorAll('.stream-link').forEach(link => {
					link.classList.remove('is-active');
				});
				event.target.classList.add('is-active');
			});
		});
	</script>
</body>
</html>
